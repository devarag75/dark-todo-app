<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#121212">
    <meta name="description" content="TaskForge ‚Äî A modern dark-themed productivity app for students">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>TaskForge</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="splash-icon">
                <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                    <rect width="64" height="64" rx="16" fill="url(#splash-grad)" />
                    <path d="M20 33L28 41L44 23" stroke="white" stroke-width="4" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <defs>
                        <linearGradient id="splash-grad" x1="0" y1="0" x2="64" y2="64">
                            <stop stop-color="#3B82F6" />
                            <stop offset="1" stop-color="#8B5CF6" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1 class="splash-title">TaskForge</h1>
            <p class="splash-subtitle">Forge your productivity</p>
        </div>
    </div>

    <!-- App Container -->
    <div id="app" class="app hidden">

        <!-- ========== HOME SCREEN ========== -->
        <section id="screen-home" class="screen active">
            <header class="home-header">
                <div class="greeting-section">
                    <h1 id="greeting" class="greeting">Good Evening, Devarag üëã</h1>
                    <p id="today-date" class="today-date"></p>
                </div>
                <button id="btn-search-toggle" class="icon-btn" aria-label="Search">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8" />
                        <line x1="21" y1="21" x2="16.65" y2="16.65" />
                    </svg>
                </button>
            </header>

            <!-- Search Bar -->
            <div id="search-bar" class="search-bar hidden">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8" />
                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                </svg>
                <input type="text" id="search-input" placeholder="Search tasks..." autocomplete="off">
                <button id="btn-search-clear" class="icon-btn-sm" aria-label="Clear search">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>

            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-info">
                    <span class="progress-label">Today's Progress</span>
                    <span id="progress-text" class="progress-value">0%</span>
                </div>
                <div class="progress-track">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <!-- Filter Tabs -->
            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all">All</button>
                <button class="filter-tab" data-filter="today">Today</button>
                <button class="filter-tab" data-filter="upcoming">Upcoming</button>
                <button class="filter-tab" data-filter="completed">Completed</button>
            </div>

            <!-- Sort Dropdown -->
            <div class="sort-row">
                <select id="sort-select" class="sort-select">
                    <option value="date">Sort by Date</option>
                    <option value="priority">Sort by Priority</option>
                    <option value="category">Sort by Category</option>
                    <option value="title">Sort by Title</option>
                </select>
            </div>

            <!-- Task List -->
            <div id="task-list" class="task-list">
                <!-- Tasks rendered here by JS -->
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state hidden">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1"
                    stroke-linecap="round" stroke-linejoin="round" opacity="0.4">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" />
                    <path d="M2 17l10 5 10-5" />
                    <path d="M2 12l10 5 10-5" />
                </svg>
                <h3>No tasks yet</h3>
                <p>Tap <strong>+</strong> to add your first task</p>
            </div>
        </section>

        <!-- ========== ANALYTICS SCREEN ========== -->
        <section id="screen-analytics" class="screen">
            <header class="screen-header">
                <h1>Analytics</h1>
            </header>

            <div class="analytics-grid">
                <div class="stat-card">
                    <span class="stat-value" id="stat-total">0</span>
                    <span class="stat-label">Total Done</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="stat-streak">0</span>
                    <span class="stat-label">Day Streak üî•</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="stat-today">0</span>
                    <span class="stat-label">Today</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="stat-pending">0</span>
                    <span class="stat-label">Pending</span>
                </div>
            </div>

            <div class="chart-section">
                <h3>Weekly Activity</h3>
                <canvas id="weekly-chart" width="360" height="200"></canvas>
            </div>

            <div class="chart-section">
                <h3>Daily Completion</h3>
                <canvas id="daily-chart" width="360" height="200"></canvas>
            </div>

            <div class="quote-card" id="quote-card">
                <p id="quote-text" class="quote-text">"The secret of getting ahead is getting started."</p>
                <span id="quote-author" class="quote-author">‚Äî Mark Twain</span>
            </div>
        </section>

        <!-- ========== SETTINGS SCREEN ========== -->
        <section id="screen-settings" class="screen">
            <header class="screen-header">
                <h1>Settings</h1>
            </header>

            <div class="settings-list">
                <div class="settings-group">
                    <h3 class="settings-group-title">Appearance</h3>
                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label">Dark Mode</span>
                            <span class="setting-desc">Always on for best experience</span>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="toggle-dark" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label">Accent Color</span>
                            <span class="setting-desc">Customize your theme color</span>
                        </div>
                        <div class="accent-picker" id="accent-picker">
                            <button class="accent-dot active" data-color="#3B82F6" style="background:#3B82F6"
                                aria-label="Blue"></button>
                            <button class="accent-dot" data-color="#8B5CF6" style="background:#8B5CF6"
                                aria-label="Purple"></button>
                            <button class="accent-dot" data-color="#10B981" style="background:#10B981"
                                aria-label="Green"></button>
                            <button class="accent-dot" data-color="#F59E0B" style="background:#F59E0B"
                                aria-label="Amber"></button>
                            <button class="accent-dot" data-color="#EF4444" style="background:#EF4444"
                                aria-label="Red"></button>
                            <button class="accent-dot" data-color="#EC4899" style="background:#EC4899"
                                aria-label="Pink"></button>
                        </div>
                    </div>
                </div>

                <div class="settings-group">
                    <h3 class="settings-group-title">Notifications</h3>
                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label">Task Reminders</span>
                            <span class="setting-desc">Get notified before deadlines</span>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="toggle-notif">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-group">
                    <h3 class="settings-group-title">Data</h3>
                    <div class="setting-item clickable" id="btn-backup">
                        <div class="setting-info">
                            <span class="setting-label">Backup Data</span>
                            <span class="setting-desc">Export tasks as JSON file</span>
                        </div>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="7 10 12 15 17 10" />
                            <line x1="12" y1="15" x2="12" y2="3" />
                        </svg>
                    </div>
                    <div class="setting-item clickable" id="btn-restore">
                        <div class="setting-info">
                            <span class="setting-label">Restore Data</span>
                            <span class="setting-desc">Import tasks from JSON file</span>
                        </div>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                        </svg>
                    </div>
                    <div class="setting-item clickable danger" id="btn-clear-completed">
                        <div class="setting-info">
                            <span class="setting-label">Clear Completed Tasks</span>
                            <span class="setting-desc">Remove all finished tasks</span>
                        </div>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="3 6 5 6 21 6" />
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                        </svg>
                    </div>
                </div>

                <div class="settings-group">
                    <p class="app-version">TaskForge v1.0.0 ‚Ä¢ Made with ‚ù§Ô∏è for students</p>
                </div>
            </div>
            <input type="file" id="restore-input" accept=".json" style="display:none">
        </section>

        <!-- ========== ADD/EDIT TASK MODAL ========== -->
        <div id="task-modal" class="modal-overlay hidden">
            <div class="modal">
                <div class="modal-header">
                    <h2 id="modal-title">Add Task</h2>
                    <button id="btn-modal-close" class="icon-btn" aria-label="Close">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18" />
                            <line x1="6" y1="6" x2="18" y2="18" />
                        </svg>
                    </button>
                </div>
                <form id="task-form" class="task-form">
                    <input type="hidden" id="task-id">
                    <div class="form-group">
                        <label for="task-title">Title *</label>
                        <input type="text" id="task-title" placeholder="e.g. Finish DSA assignment" required
                            maxlength="100">
                    </div>
                    <div class="form-group">
                        <label for="task-desc">Description</label>
                        <textarea id="task-desc" placeholder="Add details..." rows="3" maxlength="300"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-date">Due Date</label>
                            <input type="date" id="task-date">
                        </div>
                        <div class="form-group">
                            <label for="task-time">Time</label>
                            <input type="time" id="task-time">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Priority</label>
                        <div class="priority-selector">
                            <button type="button" class="priority-btn active" data-priority="low">Low</button>
                            <button type="button" class="priority-btn" data-priority="medium">Medium</button>
                            <button type="button" class="priority-btn" data-priority="high">High</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="task-category">Category</label>
                        <div class="category-selector" id="category-selector">
                            <button type="button" class="cat-chip active" data-category="college">üéì College</button>
                            <button type="button" class="cat-chip" data-category="coding">üíª Coding</button>
                            <button type="button" class="cat-chip" data-category="personal">üè† Personal</button>
                            <button type="button" class="cat-chip" data-category="health">üí™ Health</button>
                            <button type="button" class="cat-chip" data-category="projects">üöÄ Projects</button>
                        </div>
                    </div>
                    <div class="form-group reminder-group">
                        <div class="setting-info">
                            <span class="setting-label">Set Reminder</span>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="task-reminder">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <button type="submit" class="btn-save" id="btn-save-task">
                        <span>Save Task</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12" />
                        </svg>
                    </button>
                </form>
            </div>
        </div>

        <!-- ========== CONFIRM DIALOG ========== -->
        <div id="confirm-dialog" class="modal-overlay hidden">
            <div class="confirm-box">
                <h3 id="confirm-title">Are you sure?</h3>
                <p id="confirm-message">This action cannot be undone.</p>
                <div class="confirm-actions">
                    <button id="btn-confirm-cancel" class="btn-secondary">Cancel</button>
                    <button id="btn-confirm-ok" class="btn-danger">Delete</button>
                </div>
            </div>
        </div>

        <!-- FAB -->
        <button id="fab" class="fab" aria-label="Add task">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
        </button>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-screen="home" aria-label="Home">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                <span>Home</span>
            </button>
            <button class="nav-item" data-screen="analytics" aria-label="Analytics">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="20" x2="18" y2="10" />
                    <line x1="12" y1="20" x2="12" y2="4" />
                    <line x1="6" y1="20" x2="6" y2="14" />
                </svg>
                <span>Analytics</span>
            </button>
            <button class="nav-item" data-screen="settings" aria-label="Settings">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3" />
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
                </svg>
                <span>Settings</span>
            </button>
        </nav>
    </div>



    <!-- Install Banner -->
    <div id="install-banner" class="install-banner hidden">
        <div class="install-banner-content">
            <div class="install-banner-text">
                <strong>Install DarkTasks</strong>
                <span>Add to home screen for the best experience</span>
            </div>
            <div class="install-banner-actions">
                <button id="btn-install-dismiss" class="install-dismiss" aria-label="Dismiss">Later</button>
                <button id="btn-install" class="install-btn">Install</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast hidden"></div>

    <script src="app.js"></script>
</body>

</html>